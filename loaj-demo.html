<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Linked Open Addresses Japan を使った東京都の境界データ表示プログラム</title>
<link rel="stylesheet" href="leaflet.d3/css/colorbrewer.css" />
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script type="text/javascript" src="jquery-ajaxQueue/dist/jquery.ajaxQueue.min.js"></script>
<script src='./Wicket/wicket.js'></script>
<script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
<script src="http://d3js.org/d3.v3.js"></script>
<script type="text/javascript" src="leaflet.d3/leaflet.d3.js"></script>

<script src="spin.min.js"></script>
<script src="Leaflet.Spin/leaflet.spin.js"></script>

<style type="text/css">
body {margin:0px;padding:0px;}
.town {
	stroke-width : 0;
	fill: #000;
	fill-opacity: .6;
	stroke: #fff; 
}
.town:hover {
  fill: rgb(109, 28, 28);
  fill-opacity: .7;
  cursor:pointer;
}
</style>

</head>
<body>

<div id="map" style="width:100%; height:100%"></div>

<script>
// tokyo
var map = L.map('map').setView([35.674487, 139.74708],10);
// takatsuki
//var map = L.map('map').setView([34.849511,135.623521],12);
var tiles = L.tileLayer('http://tile.openstreetmap.jp/{z}/{x}/{y}.png', {
maxZoom: 18,
attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
});
map.addLayer(tiles);

var data = [
/*
{"uri":"http://uedayou.net/loa/東京都千代田区千代田"},
{"uri":"http://uedayou.net/loa/東京都中央区"},
{"uri":"http://uedayou.net/loa/東京都杉並区上高井戸二丁目"},
{"uri":"http://uedayou.net/loa/東京都杉並区松庵二丁目"},
{"uri":"http://uedayou.net/loa/沖縄県うるま市"},
*/

{uri:"東京都あきる野市"},
{uri:"東京都三宅村"},
{uri:"東京都三鷹市"},
{uri:"東京都世田谷区"},
{uri:"東京都中央区"},
{uri:"東京都中野区"},
{uri:"東京都八丈町"},
{uri:"東京都八王子市"},
{uri:"東京都利島村"},
{uri:"東京都北区"},
{uri:"東京都千代田区"},
{uri:"東京都台東区"},
{uri:"東京都品川区"},
{uri:"東京都国分寺市"},
{uri:"東京都国立市"},
{uri:"東京都墨田区"},
{uri:"東京都多摩市"},
{uri:"東京都大島町"},
{uri:"東京都大田区"},
{uri:"東京都小平市"},
{uri:"東京都小笠原村"},
{uri:"東京都小金井市"},
{uri:"東京都府中市"},
{uri:"東京都御蔵島村"},
{uri:"東京都文京区"},
{uri:"東京都新宿区"},
{uri:"東京都新島村"},
{uri:"東京都日野市"},
{uri:"東京都昭島市"},
{uri:"東京都杉並区"},
{uri:"東京都東久留米市"},
{uri:"東京都東大和市"},
{uri:"東京都東村山市"},
{uri:"東京都板橋区"},
{uri:"東京都武蔵村山市"},
{uri:"東京都武蔵野市"},
{uri:"東京都江戸川区"},
{uri:"東京都江東区"},
{uri:"東京都清瀬市"},
{uri:"東京都渋谷区"},
{uri:"東京都港区"},
{uri:"東京都狛江市"},
{uri:"東京都町田市"},
{uri:"東京都目黒区"},
{uri:"東京都神津島村"},
{uri:"東京都福生市"},
{uri:"東京都稲城市"},
{uri:"東京都立川市"},
{uri:"東京都練馬区"},
{uri:"東京都羽村市"},
{uri:"東京都荒川区"},
{uri:"東京都葛飾区"},
{uri:"東京都西多摩郡奥多摩町"},
{uri:"東京都西多摩郡日の出町"},
{uri:"東京都西多摩郡檜原村"},
{uri:"東京都西多摩郡瑞穂町"},
{uri:"東京都西東京市"},
{uri:"東京都調布市"},
{uri:"東京都豊島区"},
{uri:"東京都足立区"},
{uri:"東京都青ケ島村"},
{uri:"東京都青梅市"}

/*
{uri:"大阪府高槻市三島江"},
{uri:"大阪府高槻市三島江一丁目"},
{uri:"大阪府高槻市三島江三丁目"},
{uri:"大阪府高槻市三島江二丁目"},
{uri:"大阪府高槻市三島江四丁目"},
{uri:"大阪府高槻市三箇牧一丁目"},
{uri:"大阪府高槻市三箇牧二丁目"},
{uri:"大阪府高槻市上土室一丁目"},
{uri:"大阪府高槻市上土室三丁目"},
{uri:"大阪府高槻市上土室二丁目"},
{uri:"大阪府高槻市上土室五丁目"},
{uri:"大阪府高槻市上土室六丁目"},
{uri:"大阪府高槻市上土室四丁目"},
{uri:"大阪府高槻市上本町"},
{uri:"大阪府高槻市上牧"},
{uri:"大阪府高槻市上牧北駅前町"},
{uri:"大阪府高槻市上牧南駅前町"},
{uri:"大阪府高槻市上牧山手町"},
{uri:"大阪府高槻市上牧町一丁目"},
{uri:"大阪府高槻市上牧町三丁目"},
{uri:"大阪府高槻市上牧町二丁目"},
{uri:"大阪府高槻市上牧町五丁目"},
{uri:"大阪府高槻市上牧町四丁目"},
{uri:"大阪府高槻市上田辺町"},
{uri:"大阪府高槻市下"},
{uri:"大阪府高槻市下田部町一丁目"},
{uri:"大阪府高槻市下田部町二丁目"},
{uri:"大阪府高槻市中川町"},
{uri:"大阪府高槻市中畑"},
{uri:"大阪府高槻市中畑字垣ノ下"},
{uri:"大阪府高槻市中畑字寺谷"},
{uri:"大阪府高槻市中畑字小畑"},
{uri:"大阪府高槻市中畑小字久世坂"},
{uri:"大阪府高槻市中畑小字垣ノ下"},
{uri:"大阪府高槻市中畑小字小畑"},
{uri:"大阪府高槻市中畑小字清谷"},
{uri:"大阪府高槻市中畑小字西条"},
{uri:"大阪府高槻市二料"},
{uri:"大阪府高槻市五領町"},
{uri:"大阪府高槻市井尻一丁目"},
{uri:"大阪府高槻市井尻二丁目"},
{uri:"大阪府高槻市京口町"},
{uri:"大阪府高槻市今城町"},
{uri:"大阪府高槻市八丁畷町"},
{uri:"大阪府高槻市八丁西町"},
{uri:"大阪府高槻市八幡町"},
{uri:"大阪府高槻市出丸町"},
{uri:"大阪府高槻市出灰"},
{uri:"大阪府高槻市出灰字垣内"},
{uri:"大阪府高槻市出灰字堂ノ前"},
{uri:"大阪府高槻市出灰字島崎"},
{uri:"大阪府高槻市出灰字東羅"},
{uri:"大阪府高槻市出灰字梅ノ木原"},
{uri:"大阪府高槻市出灰字西ノ下"},
{uri:"大阪府高槻市出灰小字二ノ瀬"},
{uri:"大阪府高槻市出灰小字堂ノ前"},
{uri:"大阪府高槻市別所中の町"},
{uri:"大阪府高槻市別所新町"},
{uri:"大阪府高槻市別所本町"},
{uri:"大阪府高槻市前島"},
{uri:"大阪府高槻市前島一丁目"},
{uri:"大阪府高槻市前島三丁目"},
{uri:"大阪府高槻市前島二丁目"},
{uri:"大阪府高槻市前島五丁目"},
{uri:"大阪府高槻市前島四丁目"},
{uri:"大阪府高槻市北園町"},
{uri:"大阪府高槻市北大樋町"},
{uri:"大阪府高槻市北昭和台町"},
{uri:"大阪府高槻市北柳川町"},
{uri:"大阪府高槻市千代田町"},
{uri:"大阪府高槻市南大樋町"},
{uri:"大阪府高槻市南平台一丁目"},
{uri:"大阪府高槻市南平台三丁目"},
{uri:"大阪府高槻市南平台二丁目"},
{uri:"大阪府高槻市南平台五丁目"},
{uri:"大阪府高槻市南平台四丁目"},
{uri:"大阪府高槻市南庄所町"},
{uri:"大阪府高槻市南松原町"},
{uri:"大阪府高槻市南総持寺町"},
{uri:"大阪府高槻市南芥川町"},
{uri:"大阪府高槻市原"},
{uri:"大阪府高槻市古曽部町一丁目"},
{uri:"大阪府高槻市古曽部町三丁目"},
{uri:"大阪府高槻市古曽部町二丁目"},
{uri:"大阪府高槻市古曽部町五丁目"},
{uri:"大阪府高槻市古曽部町四丁目"},
{uri:"大阪府高槻市名神町"},
{uri:"大阪府高槻市唐崎"},
{uri:"大阪府高槻市唐崎中一丁目"},
{uri:"大阪府高槻市唐崎中三丁目"},
{uri:"大阪府高槻市唐崎中二丁目"},
{uri:"大阪府高槻市唐崎中四丁目"},
{uri:"大阪府高槻市唐崎北一丁目"},
{uri:"大阪府高槻市唐崎北三丁目"},
{uri:"大阪府高槻市唐崎北二丁目"},
{uri:"大阪府高槻市唐崎南一丁目"},
{uri:"大阪府高槻市唐崎南三丁目"},
{uri:"大阪府高槻市唐崎南二丁目"},
{uri:"大阪府高槻市唐崎西一丁目"},
{uri:"大阪府高槻市唐崎西二丁目"},
{uri:"大阪府高槻市土室町"},
{uri:"大阪府高槻市土橋町"},
{uri:"大阪府高槻市城内町"},
{uri:"大阪府高槻市城北町一丁目"},
{uri:"大阪府高槻市城北町二丁目"},
{uri:"大阪府高槻市城南町一丁目"},
{uri:"大阪府高槻市城南町三丁目"},
{uri:"大阪府高槻市城南町二丁目"},
{uri:"大阪府高槻市城南町四丁目"},
{uri:"大阪府高槻市城東町"},
{uri:"大阪府高槻市城西町"},
{uri:"大阪府高槻市堤町"},
{uri:"大阪府高槻市塚原一丁目"},
{uri:"大阪府高槻市塚原三丁目"},
{uri:"大阪府高槻市塚原二丁目"},
{uri:"大阪府高槻市塚原五丁目"},
{uri:"大阪府高槻市塚原六丁目"},
{uri:"大阪府高槻市塚原四丁目"},
{uri:"大阪府高槻市塚脇一丁目"},
{uri:"大阪府高槻市塚脇三丁目"},
{uri:"大阪府高槻市塚脇二丁目"},
{uri:"大阪府高槻市塚脇五丁目"},
{uri:"大阪府高槻市塚脇四丁目"},
{uri:"大阪府高槻市大冠町一丁目"},
{uri:"大阪府高槻市大冠町三丁目"},
{uri:"大阪府高槻市大冠町二丁目"},
{uri:"大阪府高槻市大和一丁目"},
{uri:"大阪府高槻市大和二丁目"},
{uri:"大阪府高槻市大塚"},
{uri:"大阪府高槻市大塚町一丁目"},
{uri:"大阪府高槻市大塚町三丁目"},
{uri:"大阪府高槻市大塚町二丁目"},
{uri:"大阪府高槻市大塚町五丁目"},
{uri:"大阪府高槻市大塚町四丁目"},
{uri:"大阪府高槻市大学町"},
{uri:"大阪府高槻市大手町"},
{uri:"大阪府高槻市大畑町"},
{uri:"大阪府高槻市大蔵司一丁目"},
{uri:"大阪府高槻市大蔵司三丁目"},
{uri:"大阪府高槻市大蔵司二丁目"},
{uri:"大阪府高槻市天川新町"},
{uri:"大阪府高槻市天川町"},
{uri:"大阪府高槻市天王町"},
{uri:"大阪府高槻市天神町一丁目"},
{uri:"大阪府高槻市天神町二丁目"},
{uri:"大阪府高槻市奈佐原"},
{uri:"大阪府高槻市奈佐原一丁目"},
{uri:"大阪府高槻市奈佐原三丁目"},
{uri:"大阪府高槻市奈佐原二丁目"},
{uri:"大阪府高槻市奈佐原元町"},
{uri:"大阪府高槻市奈佐原四丁目"},
{uri:"大阪府高槻市奥天神町一丁目"},
{uri:"大阪府高槻市奥天神町三丁目"},
{uri:"大阪府高槻市奥天神町二丁目"},
{uri:"大阪府高槻市如是町"},
{uri:"大阪府高槻市安岡寺町一丁目"},
{uri:"大阪府高槻市安岡寺町三丁目"},
{uri:"大阪府高槻市安岡寺町二丁目"},
{uri:"大阪府高槻市安岡寺町五丁目"},
{uri:"大阪府高槻市安岡寺町六丁目"},
{uri:"大阪府高槻市安岡寺町四丁目"},
{uri:"大阪府高槻市安満中の町"},
{uri:"大阪府高槻市安満北の町"},
{uri:"大阪府高槻市安満御所の町"},
{uri:"大阪府高槻市安満新町"},
{uri:"大阪府高槻市安満東の町"},
{uri:"大阪府高槻市安満磐手町"},
{uri:"大阪府高槻市安満西の町"},
{uri:"大阪府高槻市宮が谷町"},
{uri:"大阪府高槻市宮之川原一丁目"},
{uri:"大阪府高槻市宮之川原三丁目"},
{uri:"大阪府高槻市宮之川原二丁目"},
{uri:"大阪府高槻市宮之川原五丁目"},
{uri:"大阪府高槻市宮之川原元町"},
{uri:"大阪府高槻市宮之川原四丁目"},
{uri:"大阪府高槻市宮田町一丁目"},
{uri:"大阪府高槻市宮田町三丁目"},
{uri:"大阪府高槻市宮田町二丁目"},
{uri:"大阪府高槻市宮野町"},
{uri:"大阪府高槻市富田丘町"},
{uri:"大阪府高槻市富田町一丁目"},
{uri:"大阪府高槻市富田町三丁目"},
{uri:"大阪府高槻市富田町二丁目"},
{uri:"大阪府高槻市富田町五丁目"},
{uri:"大阪府高槻市富田町六丁目"},
{uri:"大阪府高槻市富田町四丁目"},
{uri:"大阪府高槻市寺谷町"},
{uri:"大阪府高槻市寿町一丁目"},
{uri:"大阪府高槻市寿町三丁目"},
{uri:"大阪府高槻市寿町二丁目"},
{uri:"大阪府高槻市山手町一丁目"},
{uri:"大阪府高槻市山手町二丁目"},
{uri:"大阪府高槻市岡本町"},
{uri:"大阪府高槻市川久保"},
{uri:"大阪府高槻市川添一丁目"},
{uri:"大阪府高槻市川添二丁目"},
{uri:"大阪府高槻市川西町一丁目"},
{uri:"大阪府高槻市川西町三丁目"},
{uri:"大阪府高槻市川西町二丁目"},
{uri:"大阪府高槻市幸町"},
{uri:"大阪府高槻市庄所町"},
{uri:"大阪府高槻市弥生が丘町"},
{uri:"大阪府高槻市成合"},
{uri:"大阪府高槻市成合中の町"},
{uri:"大阪府高槻市成合北の町"},
{uri:"大阪府高槻市成合南の町"},
{uri:"大阪府高槻市成合東の町"},
{uri:"大阪府高槻市成合西の町"},
{uri:"大阪府高槻市日吉台一番町"},
{uri:"大阪府高槻市日吉台七番町"},
{uri:"大阪府高槻市日吉台三番町"},
{uri:"大阪府高槻市日吉台二番町"},
{uri:"大阪府高槻市日吉台五番町"},
{uri:"大阪府高槻市日吉台六番町"},
{uri:"大阪府高槻市日吉台四番町"},
{uri:"大阪府高槻市日向町"},
{uri:"大阪府高槻市明田町"},
{uri:"大阪府高槻市明野町"},
{uri:"大阪府高槻市春日町"},
{uri:"大阪府高槻市昭和台町一丁目"},
{uri:"大阪府高槻市昭和台町二丁目"},
{uri:"大阪府高槻市月見町"},
{uri:"大阪府高槻市朝日町"},
{uri:"大阪府高槻市本町"},
{uri:"大阪府高槻市杉生"},
{uri:"大阪府高槻市杉生字千ケ谷"},
{uri:"大阪府高槻市杉生字河原田"},
{uri:"大阪府高槻市杉生字縄手ノ北"},
{uri:"大阪府高槻市東上牧一丁目"},
{uri:"大阪府高槻市東上牧三丁目"},
{uri:"大阪府高槻市東上牧二丁目"},
{uri:"大阪府高槻市東五百住町一丁目"},
{uri:"大阪府高槻市東五百住町三丁目"},
{uri:"大阪府高槻市東五百住町二丁目"},
{uri:"大阪府高槻市東和町"},
{uri:"大阪府高槻市東城山町"},
{uri:"大阪府高槻市東天川一丁目"},
{uri:"大阪府高槻市東天川三丁目"},
{uri:"大阪府高槻市東天川二丁目"},
{uri:"大阪府高槻市東天川五丁目"},
{uri:"大阪府高槻市東天川四丁目"},
{uri:"大阪府高槻市松が丘一丁目"},
{uri:"大阪府高槻市松が丘三丁目"},
{uri:"大阪府高槻市松が丘二丁目"},
{uri:"大阪府高槻市松が丘四丁目"},
{uri:"大阪府高槻市松原町"},
{uri:"大阪府高槻市松川町"},
{uri:"大阪府高槻市柱本"},
{uri:"大阪府高槻市柱本一丁目"},
{uri:"大阪府高槻市柱本七丁目"},
{uri:"大阪府高槻市柱本三丁目"},
{uri:"大阪府高槻市柱本二丁目"},
{uri:"大阪府高槻市柱本五丁目"},
{uri:"大阪府高槻市柱本六丁目"},
{uri:"大阪府高槻市柱本南町"},
{uri:"大阪府高槻市柱本四丁目"},
{uri:"大阪府高槻市柱本新町"},
{uri:"大阪府高槻市柳川町一丁目"},
{uri:"大阪府高槻市柳川町二丁目"},
{uri:"大阪府高槻市栄町一丁目"},
{uri:"大阪府高槻市栄町三丁目"},
{uri:"大阪府高槻市栄町二丁目"},
{uri:"大阪府高槻市栄町四丁目"},
{uri:"大阪府高槻市桃園町"},
{uri:"大阪府高槻市桜ケ丘北町"},
{uri:"大阪府高槻市桜ケ丘南町"},
{uri:"大阪府高槻市桜町"},
{uri:"大阪府高槻市梶原"},
{uri:"大阪府高槻市梶原一丁目"},
{uri:"大阪府高槻市梶原三丁目"},
{uri:"大阪府高槻市梶原中村町"},
{uri:"大阪府高槻市梶原二丁目"},
{uri:"大阪府高槻市梶原五丁目"},
{uri:"大阪府高槻市梶原六丁目"},
{uri:"大阪府高槻市梶原四丁目"},
{uri:"大阪府高槻市殿町"},
{uri:"大阪府高槻市氷室町一丁目"},
{uri:"大阪府高槻市氷室町三丁目"},
{uri:"大阪府高槻市氷室町二丁目"},
{uri:"大阪府高槻市氷室町五丁目"},
{uri:"大阪府高槻市氷室町六丁目"},
{uri:"大阪府高槻市氷室町四丁目"},
{uri:"大阪府高槻市永楽町"},
{uri:"大阪府高槻市沢良木町"},
{uri:"大阪府高槻市津之江北町"},
{uri:"大阪府高槻市津之江町一丁目"},
{uri:"大阪府高槻市津之江町三丁目"},
{uri:"大阪府高槻市津之江町二丁目"},
{uri:"大阪府高槻市浦堂一丁目"},
{uri:"大阪府高槻市浦堂三丁目"},
{uri:"大阪府高槻市浦堂二丁目"},
{uri:"大阪府高槻市浦堂本町"},
{uri:"大阪府高槻市淀の原町"},
{uri:"大阪府高槻市深沢本町"},
{uri:"大阪府高槻市深沢町一丁目"},
{uri:"大阪府高槻市深沢町二丁目"},
{uri:"大阪府高槻市清水台一丁目"},
{uri:"大阪府高槻市清水台二丁目"},
{uri:"大阪府高槻市清福寺町"},
{uri:"大阪府高槻市牧田町"},
{uri:"大阪府高槻市玉川一丁目"},
{uri:"大阪府高槻市玉川三丁目"},
{uri:"大阪府高槻市玉川二丁目"},
{uri:"大阪府高槻市玉川四丁目"},
{uri:"大阪府高槻市玉川新町"},
{uri:"大阪府高槻市田能"},
{uri:"大阪府高槻市田能字アンタコ"},
{uri:"大阪府高槻市田能字ウシロ田"},
{uri:"大阪府高槻市田能字コブケ"},
{uri:"大阪府高槻市田能字下垣内"},
{uri:"大阪府高槻市田能字中山"},
{uri:"大阪府高槻市田能字伊安条"},
{uri:"大阪府高槻市田能字向ノ下"},
{uri:"大阪府高槻市田能字城山"},
{uri:"大阪府高槻市田能字小谷条"},
{uri:"大阪府高槻市田能字岡畑"},
{uri:"大阪府高槻市田能字田頭"},
{uri:"大阪府高槻市田能字西条"},
{uri:"大阪府高槻市田能字飛田"},
{uri:"大阪府高槻市田能小字アンタコ"},
{uri:"大阪府高槻市田能小字スハノ下"},
{uri:"大阪府高槻市田能小字上条奥ノ谷"},
{uri:"大阪府高槻市田能小字下垣内"},
{uri:"大阪府高槻市田能小字中条"},
{uri:"大阪府高槻市田能小字壽代"},
{uri:"大阪府高槻市田能小字岡崎"},
{uri:"大阪府高槻市田能小字岡畑"},
{uri:"大阪府高槻市田能小字永田"},
{uri:"大阪府高槻市田能小字清水"},
{uri:"大阪府高槻市田能小字鳥井垣内"},
{uri:"大阪府高槻市番田一丁目"},
{uri:"大阪府高槻市番田二丁目"},
{uri:"大阪府高槻市登町"},
{uri:"大阪府高槻市登美の里町"},
{uri:"大阪府高槻市白梅町"},
{uri:"大阪府高槻市真上町一丁目"},
{uri:"大阪府高槻市真上町三丁目"},
{uri:"大阪府高槻市真上町二丁目"},
{uri:"大阪府高槻市真上町五丁目"},
{uri:"大阪府高槻市真上町六丁目"},
{uri:"大阪府高槻市真上町四丁目"},
{uri:"大阪府高槻市神内"},
{uri:"大阪府高槻市神内一丁目"},
{uri:"大阪府高槻市神内二丁目"},
{uri:"大阪府高槻市竹の内町"},
{uri:"大阪府高槻市紅茸町"},
{uri:"大阪府高槻市紫町"},
{uri:"大阪府高槻市紺屋町"},
{uri:"大阪府高槻市緑が丘一丁目"},
{uri:"大阪府高槻市緑が丘三丁目"},
{uri:"大阪府高槻市緑が丘二丁目"},
{uri:"大阪府高槻市緑町"},
{uri:"大阪府高槻市美しが丘一丁目"},
{uri:"大阪府高槻市美しが丘二丁目"},
{uri:"大阪府高槻市芝生町一丁目"},
{uri:"大阪府高槻市芝生町三丁目"},
{uri:"大阪府高槻市芝生町二丁目"},
{uri:"大阪府高槻市芝生町四丁目"},
{uri:"大阪府高槻市芝谷町"},
{uri:"大阪府高槻市芥川町一丁目"},
{uri:"大阪府高槻市芥川町三丁目"},
{uri:"大阪府高槻市芥川町二丁目"},
{uri:"大阪府高槻市芥川町四丁目"},
{uri:"大阪府高槻市花林苑"},
{uri:"大阪府高槻市若松町"},
{uri:"大阪府高槻市萩之庄一丁目"},
{uri:"大阪府高槻市萩之庄三丁目"},
{uri:"大阪府高槻市萩之庄二丁目"},
{uri:"大阪府高槻市萩之庄五丁目"},
{uri:"大阪府高槻市萩之庄四丁目"},
{uri:"大阪府高槻市萩庄"},
{uri:"大阪府高槻市萩谷"},
{uri:"大阪府高槻市萩谷月見台"},
{uri:"大阪府高槻市藤の里町"},
{uri:"大阪府高槻市西之川原一丁目"},
{uri:"大阪府高槻市西之川原二丁目"},
{uri:"大阪府高槻市西五百住町"},
{uri:"大阪府高槻市西冠一丁目"},
{uri:"大阪府高槻市西冠三丁目"},
{uri:"大阪府高槻市西冠二丁目"},
{uri:"大阪府高槻市西大樋町"},
{uri:"大阪府高槻市西町"},
{uri:"大阪府高槻市西真上一丁目"},
{uri:"大阪府高槻市西真上二丁目"},
{uri:"大阪府高槻市西面中一丁目"},
{uri:"大阪府高槻市西面中二丁目"},
{uri:"大阪府高槻市西面北一丁目"},
{uri:"大阪府高槻市西面北二丁目"},
{uri:"大阪府高槻市西面南一丁目"},
{uri:"大阪府高槻市西面南三丁目"},
{uri:"大阪府高槻市西面南二丁目"},
{uri:"大阪府高槻市西面南四丁目"},
{uri:"大阪府高槻市赤大路町"},
{uri:"大阪府高槻市辻子一丁目"},
{uri:"大阪府高槻市辻子三丁目"},
{uri:"大阪府高槻市辻子二丁目"},
{uri:"大阪府高槻市道鵜町一丁目"},
{uri:"大阪府高槻市道鵜町三丁目"},
{uri:"大阪府高槻市道鵜町二丁目"},
{uri:"大阪府高槻市道鵜町五丁目"},
{uri:"大阪府高槻市道鵜町六丁目"},
{uri:"大阪府高槻市道鵜町四丁目"},
{uri:"大阪府高槻市郡家新町"},
{uri:"大阪府高槻市郡家本町"},
{uri:"大阪府高槻市野田一丁目"},
{uri:"大阪府高槻市野田三丁目"},
{uri:"大阪府高槻市野田二丁目"},
{uri:"大阪府高槻市野田四丁目"},
{uri:"大阪府高槻市野田東一丁目"},
{uri:"大阪府高槻市野田東二丁目"},
{uri:"大阪府高槻市野見町"},
{uri:"大阪府高槻市阿武野一丁目"},
{uri:"大阪府高槻市阿武野二丁目"},
{uri:"大阪府高槻市霊仙寺町一丁目"},
{uri:"大阪府高槻市霊仙寺町二丁目"},
{uri:"大阪府高槻市須賀町"},
{uri:"大阪府高槻市高垣町"},
{uri:"大阪府高槻市高槻町"},
{uri:"大阪府高槻市高西町"},
{uri:"大阪府高槻市高見台"},
{uri:"大阪府高槻市鵜殿"},
{uri:"大阪府高槻市黄金の里一丁目"},
*/
];

console.log("start loading.");
map.spin(true);
$.each(data, function(i,d){
	if (d.uri.lastIndexOf('http://uedayou.net/loa/', 0) !== 0) {
		data[i].uri = 'http://uedayou.net/loa/'+d.uri;
	}
	loadPolygonFromLOAJ(d.uri);
});

function loadPolygonFromLOAJ(uri, option) {
	$.ajaxQueue({
	    url: uri+".json"
	}).done(function( json ) {
		console.log(uri);
		var json = json[uri];
		if ("http://www.opengis.net/ont/geosparql#wktLiteral" in json) ; else return;
		var label = json["http://www.w3.org/2000/01/rdf-schema#label"][0]["value"];
		var wkt = json["http://www.opengis.net/ont/geosparql#wktLiteral"][0]["value"];
		var _geoArray = new Array();
		var _o = new Object();
		_o["type"] = "Feature";
		wicket = new Wkt.Wkt();
		wicket.read(wkt);
		var obj = wicket.toJson();
		_o["geometry"] = obj;
		_o["properties"] = {"name":label};
		_geoArray[0] = _o;
		var geoJSONObj = {"type": "FeatureCollection"};
		geoJSONObj["features"] = _geoArray;
		var d3Layer=L.d3(geoJSONObj,{
			svgClass : "Spectral",
			pathClass:function(d) {
				return "town q" + Math.floor((Math.random() * 10)) +"-11";
			}
		});
		d3Layer.bindPopup(function(p){
			var out =[];
			for(var key in p){
			if(key !== "FOURCOLOR"){
				out.push("<strong>"+key+"</strong>: "+p[key]);
				}
			}
			return out.join("<br/>");
		});
		map.addLayer(d3Layer);
		if (data[data.length-1].uri == uri) {
			console.log("finished loading.");
			map.spin(false);
		}
	});
}
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45357765-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>